!function(){window.CinemaPeeps=Ember.Application.create({LOG_TRANSITIONS:!0})}(),function(){CinemaPeeps.ApplicationController=Ember.ObjectController.extend({})}(),function(){CinemaPeeps.ArtistsController=Ember.ObjectController.extend({})}(),function(){CinemaPeeps.ArtistsIndexController=Ember.ArrayController.extend({needs:["artists"],artists:function(){return this.get("controllers.artists.model.artists")}.property("controllers.artists"),actions:{deleteArtist:function(a){a.deleteRecord(),a.save()}}})}(),function(){CinemaPeeps.ArtistsNewController=Ember.ObjectController.extend({needs:["artists","artistsIndex"],practices:Ember.A(),content:Ember.Object.create(),practicesNames:function(){return this.get("controllers.artists.model.practices").map(function(a){return a.get("name")})}.property("controllers.artists.model.practices"),addPractice:function(a){var b=this.get("controllers.artists.model.practices").findBy("name",a);this.get("practices").pushObject(b)},actions:{submit:function(){var a=this,b=this.store.createRecord("artist",{first_name:this.get("first_name"),last_name:this.get("last_name")});this.get("practices").forEach(function(a){b.get("practices").pushObject(a)}),b.save().then(function(){a.transitionToRoute("artists"),a.setProperties({first_name:"",last_name:"",practices:Ember.A()})},function(){})}}})}(),function(){CinemaPeeps.IndexController=Ember.ArrayController.extend({})}(),function(){CinemaPeeps.Store=DS.Store.extend({}),CinemaPeeps.ArtistSerializer=DS.RESTSerializer.extend({serialize:function(a){var b={first_name:a.get("first_name"),last_name:a.get("last_name"),practices:a.get("practices").map(function(a){return a.serialize(a)})};return b}})}(),function(){CinemaPeeps.Practice=DS.Model.extend({name:DS.attr("string")}),CinemaPeeps.Artist=DS.Model.extend({first_name:DS.attr("string"),last_name:DS.attr("string"),practices:DS.hasMany(CinemaPeeps.Practice)})}(),function(){CinemaPeeps.ArtistsIndexRoute=Ember.Route.extend({})}(),function(){CinemaPeeps.ArtistsNewRoute=Ember.Route.extend({})}(),function(){CinemaPeeps.ArtistsRoute=Ember.Route.extend({model:function(){var a=[this.store.find("artist"),this.store.find("practice")],b=new Ember.RSVP.Promise(function(b){Ember.RSVP.all(a).then(function(a){b({artists:a[0],practices:a[1]})},function(){})});return b},renderTemplate:function(){this.render({outlet:"artists"})}})}(),function(){CinemaPeeps.IndexRoute=Ember.Route.extend({redirect:function(){this.transitionTo("artists")}})}(),function(){CinemaPeeps.ArtistsNewView=Ember.View.extend({didInsertElement:function(){var a=this.controller;this.$("#typeAhead").typeahead({source:function(){return a.get("practicesNames")},updater:function(b){a.addPractice(b)}})}})}(),function(){CinemaPeeps.Router.map(function(){this.resource("artists",function(){this.route("new")})})}();